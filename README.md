LightFramework
==============

#### 多应用，多租户的对应
----
- DB以APP为单位做成
- 每个租户用的数据，以表前缀来区分

#### 多应用，多租户的对应时的一些限制
----
- DB个数的限制
  因为APP为单位做成数据库
  在平台用户数量多的时候，会产生大量的DB，再加上多租户的数据库的话，压力会很大
- 保持多连接
  跨多个租户，有些数据需要共享，如开发数据等
  如果租户分DB存储的话，会有需要保持多连接的问题
- 跨租户统计
  需要遍历所有的DB或表
- 通过字段分数据
  多租户的数据很容易混淆
  已读表等数据量大的数据库会有性能问题


#### SSO
- APP直接连接到LightAdmin画面
  需要Tenant名，APP名
- APP直接引用LightAdmin的某个画面
- 通过Admin登录画面进来
  需要选择APP，选择Tenant
- 在Light平台上，一个APP可以邀请很多用户来开发
  这些用户会被分配一个权限，允许操作哪些数据可
- 所有的App数据库里都有一个0000的缺省用户，不允许改删除，不能登录
  Light平台的开发者进入APP管理页面，身份都变成0000用户

#### 多个APP共享一套数据
- 当一个公司使用多个APP时，如user表等，想在app间共享
  使用共同的DB来保存数据
  表名前缀加来识别，如 alphabets.user等


##### domain, code
- domain 代表应用程序
  每个domain对应一个DB，也就是该应用的数据库名称
- code 代表使用这个应用的不同客户，主要支持SaaS应用
  数据库里的业务表，会以code作为前缀
  多个客户之间需要共享的表，如开发用的管理表等，则固定以light作为前缀
- common 会有多个应用之间共享数据的需求
  如，大公司使用多款app时，他们的用户数据等会跨应用共享
  这样的表会放在名为 common 的数据库中
  这里的表，再以domain为前缀，保存业务数据

####
- 复数型
  数据库名会转换成复数型单词，这个处理再framework的model里统一做的
- 类型转换
  filter与data需要转换成数据库定义时的类型
- ObjectID
  使用string检索_id字段时，需要转换ObjectID类型的内容